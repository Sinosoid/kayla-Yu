# 处理不同类型的数据

## S1

欢迎来到《Wolfram: 多范式数据科学》第二部分："Getting Your Data into Shape"。在本部分，我们将了解工作流中数据整理阶段所需要的功能。

数据整理(data wrangling), 即导入原始数据并将其转换为适宜于后续数据分析的形式。而一个多范式的工作流应该可以处理来自不同源，不同格式的数据，将它们重整为不同的结构，处理不良而杂乱的数据，再从中抽取出有用的特征，甚至是降低高维数据的维数。而且不是堪堪完成上述的任务，最终的目标是要能够编写一系列自动化的工具代码，使得该工作流在下一次使用时，数据整理阶段能够变得轻松写意。

## S2

我们首先来看看从不同的真实世界数据源导入数据的例子。在最好的情况下，高质量的精选数据集是直接在数据库中可用的。对于那些已经正确筛选并组织好的数据，事实上没有必要再进行额外的数据整理，比如我们的Wolfram Data Repository，就是一个公开的可计算数据集仓库，其中的数据已经是精选且结构化的，可以立刻投入使用。我们可以在网页上以类别或数据类型查找我们需要的数据集，这些都是非常干净的数据，可以直接用于计算。所以，如果我们找到了我们想要使用的数据集，我们可以直接将其导入我们的系统并直接开始用起开始工作。

除了数据库之外，Wolfram 语言还有内容广博的内置知识库，可以再其中寻找有趣的数据，或者用其作为额外的信息来源来辅助使用一些已有的机构内数据。我们只需要输入英文关键字就可以直接访问知识库，这些关键字会被理解为是表示真实世界对象的规范实体(canonical entity)。我们可以访问这些实体的各种性质，并将其用于计算。在 Wolfram 语言中内置了数百种类型总共数百万个不同的实体。

另外，还有一些特殊领域的数据集，比如地理数据，工程和医疗数据，社会、文化和语言学数据。

## S3

以上是我们的精选数据集，不过大多数人想要将自己的数据导入到系统中，而这能以非常简单的导入命令将本地或者是在线的数据来完成。为了支持多范式工作流，Wolfram 语言能够很好地处理非常广泛的数据格式，Import 函数可以在从文件导入数据时，自动处理有关数据格式的问题。

有时在工作流中存储中间结果和数据是很重要的。使用 Save 或者 DumpSave可以很好地将数据存储为 Wolfram 语言表达式，而之后使用 Get 就可以很方便将其读取回来以继续使用。

## S4

我们现在来考虑数据库的问题。在很多项目中，数据存储在关系型数据库中，所以一个多范式工作流应当要可以连接到数据库并从中读取数据。这是一个使用 Wolfram 语言建立与数据库的联系，查看其中的表并从中获取数据的例子。或者我们可以使用标准的SQL语言来获并使用数据。我们同样可以建立一个实体存储(EntityStore)从而用 Wolfram 语言符号化地表示关系型数据库，这与 Wolfram Data Framework 内置的实体存储的方式是非常相似的，从而我们可以使用同样的语法来查询并使用这些实体的属性，并将其用于后续的计算。

## S5

现在来考虑另一个主要的数据来源，互联网。有很多种不同的方式从互联网上获取数据。有很多互联网服务会提供用于导出数据的 API 。这是一个接入推特的 API 并下载某个特定推特句柄发出的推特内容的例子。

我们也可以直接在网页上搜索一般性的内容或某种特定的我们想检索的类型的数据。维基百科是一个很棒的资源，我们不光可以用文本进行检索，其他的元数据同样也是可以的。最后，如果我们已经获取了 URL ，我们可以直接从网页上爬取数据。依据不同的任务要求，我们可以首先爬取全部的数据，然后再对其进行整理，或者抽取出特定的网页元素，如图像或者是超链接。

## S6

以上包含了多种我们在整理数据阶段可能用于工作的数据来源。当然有一些同学可能已经有了一些想要在本门课程的项目工作流中想要分析的数据。

但是对于那些正在寻找有趣的可用数据集的同学，这里有一些用于入门的公开数据来源。我们之前已经了解了 Wolfram Data Repository。而美国政府公开数据网站，NASA公开数据门户网，UCI 机器学习数据集，Kaggle 比赛，Five Thirty Eight博客集合等等都是非常好的数据集。

## S7

在这个部分，我们了解了如何从不同的来源导入数据，将其导入系统进行探索和分析。我们了解了如何从 Wolfram Data Repository和内置的 Wolfram 知识库中导入精选数据，如何直接从本地或者线上的文件中导入不同格式的数据，如何接入线上服务的 API 下载数据，以及如何从网页直接爬取数据元素。

我们希望大家可以在项目的数据整理阶段用到一个或者多个以上的技能。在下一部分，我们会了解到如何重构数据，为数据在工作流的下游的不同阶段的使用做好准备。

